{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Inicio","text":""},{"location":"#bienvenido","title":"Bienvenido","text":"<p>Soy Aar\u00f3n Garc\u00eda, est\u00e1s en mi blog, puedes acceder al contenido que tienes aqu\u00ed abajo</p>"},{"location":"#blog","title":"Blog","text":"<p>Arquitectura de la practica 7</p> <p>Arquitectura de la practica 9</p>"},{"location":"about/","title":"Acerca de mi","text":""},{"location":"about/#aaron-garcia-crisol","title":"Aar\u00f3n Garc\u00eda Crisol","text":"<p>Esta es una practica para el m\u00f3dulo de IAW, en esta practica debemos de realizar una p\u00e1gina est\u00e1tica con MkDocs</p>"},{"location":"practica7/","title":"iaw-practica 13.4 (Aar\u00f3n Garc\u00eda Crisol)","text":""},{"location":"practica7/#ansible","title":"Ansible","text":"<p>En esta practica debemos de desplegar mediante Ansible las infraestructuras de la practica 7 y la practica 9.</p>"},{"location":"practica7/#infraestructura-de-la-practica-7","title":"Infraestructura de la practica 7","text":"<p>Para ello crearemos un archivo main.yml, el cual ir\u00e1 lanzando los playbooks que tendremos alojados en nuestra carpeta playbook, el contenido tanto de los playbooks como del main.yml es el siguiente:</p>"},{"location":"practica7/#playbookbackendyml","title":"playbook/backend.yml","text":"<pre><code>---\n- name: Playbook para crear grupo de seguridad e instancia para Backend\n  hosts: localhost\n  connection: local\n  gather_facts: false\n  vars:\n    nombre_sg: backend-sg\n    descripcion_sg: grupo de seguridad para Backend\n    nombre_instancia: Backend\n    id_ami: ami-06878d265978313ca\n    tipo_instancia: t2.small\n    key: vockey\n  tasks:\n  - name: Creamos el grupo de seguridad\n    ec2_group:\n      name: \"{{ nombre_sg }}\"\n      description: \"{{ descripcion_sg }}\"\n      rules:\n      - proto: tcp\n        from_port: 22\n        to_port: 22\n        cidr_ip: 0.0.0.0/0\n      - proto: tcp\n        from_port: 3306\n        to_port: 3306\n        cidr_ip: 0.0.0.0/0\n  - name: Creamos la instancia\n    ec2_instance:\n      name: \"{{ nombre_instancia }}\"\n      key_name: \"{{ key }}\"\n      security_group: \"{{ nombre_sg }}\"\n      instance_type: \"{{ tipo_instancia }}\"\n      image_id: \"{{ id_ami }}\"\n      state: running\n    register: inst\n</code></pre>"},{"location":"practica7/#playbookfrontendyml","title":"playbook/frontend.yml","text":"<pre><code>---\n- name: Playbook para crear grupo de seguridad e instancia para Frontend\n  hosts: localhost\n  connection: local\n  gather_facts: false\n  vars:\n    nombre_sg: frontend-sg\n    descripcion_sg: grupo de seguridad para Frontend\n    nombre_instancia: Frontend\n    id_ami: ami-06878d265978313ca\n    tipo_instancia: t2.small\n    key: vockey\n  tasks:\n  - name: Creamos el grupo de seguridad\n    ec2_group:\n      name: \"{{ nombre_sg }}\"\n      description: \"{{ descripcion_sg }}\"\n      rules:\n      - proto: tcp\n        from_port: 22\n        to_port: 22\n        cidr_ip: 0.0.0.0/0\n      - proto: tcp\n        from_port: 80\n        to_port: 80\n        cidr_ip: 0.0.0.0/0\n      - proto: tcp\n        from_port: 443\n        to_port: 443\n        cidr_ip: 0.0.0.0/0\n    register: sg\n  - name: Creamos la instancia\n    ec2_instance:\n      name: \"{{ nombre_instancia }}\"\n      key_name: \"{{ key }}\"\n      security_group: \"{{ nombre_sg }}\"\n      instance_type: \"{{ tipo_instancia }}\"\n      image_id: \"{{ id_ami }}\"\n      state: running\n    register: inst\n  - name: Mostramos el contenido de la variable inst\n    debug:\n      msg: \"inst: {{ inst }}\"\n  - name: Creamos una IP el\u00e1stica y la asociar a la instancia\n    ec2_eip:\n      device_id: \"{{ inst.instances[0].instance_id }}\"\n    register: ip_elas\n  - name: Mostramos cual es nuestra IP elastica\n    debug:\n      msg: \"Nuestra IP el\u00e1stica es: {{ ip_elas.public_ip }}\"\n</code></pre>"},{"location":"practica7/#mainyml","title":"main.yml","text":"<pre><code>---\n  - import_playbook: ./playbook/backend.yml\n  - import_playbook: ./playbook/frontend.yml\n</code></pre>"},{"location":"practica9/","title":"iaw-practica 13.4 (Aar\u00f3n Garc\u00eda Crisol)","text":""},{"location":"practica9/#ansible","title":"Ansible","text":"<p>En esta practica debemos de desplegar mediante Ansible las infraestructuras de la practica 7 y la practica 9.</p>"},{"location":"practica9/#infraestructura-de-la-practica-9","title":"Infraestructura de la practica 9","text":"<p>Para ello crearemos un archivo main.yml, el cual ir\u00e1 lanzando los playbooks que tendremos alojados en nuestra carpeta playbook, el contenido tanto de los playbooks como del main.yml es el siguiente:</p>"},{"location":"practica9/#playbookbackendyml","title":"playbook/backend.yml","text":"<pre><code>---\n- name: Playbook para crear grupo de seguridad e instancia para Backend\n  hosts: localhost\n  connection: local\n  gather_facts: false\n  vars:\n    nombre_sg: backend-sg\n    descripcion_sg: grupo de seguridad para Backend\n    nombre_instancia: Backend\n    id_ami: ami-06878d265978313ca\n    tipo_instancia: t2.small\n    key: vockey\n  tasks:\n  - name: Creamos el grupo de seguridad\n    ec2_group:\n      name: \"{{ nombre_sg }}\"\n      description: \"{{ descripcion_sg }}\"\n      rules:\n      - proto: tcp\n        from_port: 22\n        to_port: 22\n        cidr_ip: 0.0.0.0/0\n      - proto: tcp\n        from_port: 3306\n        to_port: 3306\n        cidr_ip: 0.0.0.0/0\n  - name: Creamos la instancia\n    ec2_instance:\n      name: \"{{ nombre_instancia }}\"\n      key_name: \"{{ key }}\"\n      security_group: \"{{ nombre_sg }}\"\n      instance_type: \"{{ tipo_instancia }}\"\n      image_id: \"{{ id_ami }}\"\n      state: running\n    register: inst\n</code></pre>"},{"location":"practica9/#playbookfrontend1yml","title":"playbook/frontend1.yml","text":"<pre><code>---\n- name: Playbook para crear grupo de seguridad e instancia para Frontend\n  hosts: localhost\n  connection: local\n  gather_facts: false\n  vars:\n    nombre_sg: frontend-sg\n    descripcion_sg: grupo de seguridad para Frontend\n    nombre_instancia: Frontend-01\n    id_ami: ami-06878d265978313ca\n    tipo_instancia: t2.small\n    key: vockey\n  tasks:\n  - name: Creamos el grupo de seguridad\n    ec2_group:\n      name: \"{{ nombre_sg }}\"\n      description: \"{{ descripcion_sg }}\"\n      rules:\n      - proto: tcp\n        from_port: 22\n        to_port: 22\n        cidr_ip: 0.0.0.0/0\n      - proto: tcp\n        from_port: 80\n        to_port: 80\n        cidr_ip: 0.0.0.0/0\n      - proto: tcp\n        from_port: 443\n        to_port: 443\n        cidr_ip: 0.0.0.0/0\n    register: sg\n  - name: Creamos la instancia\n    ec2_instance:\n      name: \"{{ nombre_instancia }}\"\n      key_name: \"{{ key }}\"\n      security_group: \"{{ nombre_sg }}\"\n      instance_type: \"{{ tipo_instancia }}\"\n      image_id: \"{{ id_ami }}\"\n      state: running\n    register: inst\n</code></pre>"},{"location":"practica9/#playbookfrontend2yml","title":"playbook/frontend2.yml","text":"<pre><code>---\n- name: Playbook para crear grupo de seguridad e instancia para Frontend\n  hosts: localhost\n  connection: local\n  gather_facts: false\n  vars:\n    nombre_sg: frontend-sg\n    descripcion_sg: grupo de seguridad para Frontend\n    nombre_instancia: Frontend-02\n    id_ami: ami-06878d265978313ca\n    tipo_instancia: t2.small\n    key: vockey\n  tasks:\n  - name: Creamos el grupo de seguridad\n    ec2_group:\n      name: \"{{ nombre_sg }}\"\n      description: \"{{ descripcion_sg }}\"\n      rules:\n      - proto: tcp\n        from_port: 22\n        to_port: 22\n        cidr_ip: 0.0.0.0/0\n      - proto: tcp\n        from_port: 80\n        to_port: 80\n        cidr_ip: 0.0.0.0/0\n      - proto: tcp\n        from_port: 443\n        to_port: 443\n        cidr_ip: 0.0.0.0/0\n    register: sg\n  - name: Creamos la instancia\n    ec2_instance:\n      name: \"{{ nombre_instancia }}\"\n      key_name: \"{{ key }}\"\n      security_group: \"{{ nombre_sg }}\"\n      instance_type: \"{{ tipo_instancia }}\"\n      image_id: \"{{ id_ami }}\"\n      state: running\n    register: inst\n</code></pre>"},{"location":"practica9/#playbookbalanceadoryml","title":"playbook/balanceador.yml","text":"<pre><code>---\n- name: Playbook para crear grupo de seguridad e instancia para Balanceador de Carga\n  hosts: localhost\n  connection: local\n  gather_facts: false\n  vars:\n    nombre_sg: balanceador-sg\n    descripcion_sg: grupo de seguridad para Balanceador\n    nombre_instancia: Balanceador\n    id_ami: ami-06878d265978313ca\n    tipo_instancia: t2.small\n    key: vockey\n  tasks:\n  - name: Creamos el grupo de seguridad\n    ec2_group:\n      name: \"{{ nombre_sg }}\"\n      description: \"{{ descripcion_sg }}\"\n      rules:\n      - proto: tcp\n        from_port: 22\n        to_port: 22\n        cidr_ip: 0.0.0.0/0\n      - proto: tcp\n        from_port: 80\n        to_port: 80\n        cidr_ip: 0.0.0.0/0\n      - proto: tcp\n        from_port: 443\n        to_port: 443\n        cidr_ip: 0.0.0.0/0\n    register: sg\n  - name: Creamos la instancia\n    ec2_instance:\n      name: \"{{ nombre_instancia }}\"\n      key_name: \"{{ key }}\"\n      security_group: \"{{ nombre_sg }}\"\n      instance_type: \"{{ tipo_instancia }}\"\n      image_id: \"{{ id_ami }}\"\n      state: running\n    register: inst\n  - name: Mostramos el contenido de la variable inst\n    debug:\n      msg: \"inst: {{ inst }}\"\n  - name: Creamos una IP el\u00e1stica y la asociar a la instancia\n    ec2_eip:\n      device_id: \"{{ inst.instances[0].instance_id }}\"\n    register: ip_elas\n  - name: Mostramos cual es nuestra IP elastica\n    debug:\n      msg: \"Nuestra IP el\u00e1stica es: {{ ip_elas.public_ip }}\"\n</code></pre>"},{"location":"practica9/#playbooknfsyml","title":"playbook/nfs.yml","text":"<pre><code>---\n- name: Playbook para crear grupo de seguridad e instancia para NFS\n  hosts: localhost\n  connection: local\n  gather_facts: false\n  vars:\n    nombre_sg: nfs-sg\n    descripcion_sg: grupo de seguridad para NFS\n    nombre_instancia: NFS\n    id_ami: ami-06878d265978313ca\n    tipo_instancia: t2.small\n    key: vockey\n  tasks:\n  - name: Crear un grupo de seguridad\n    ec2_group:\n      name: \"{{ nombre_sg }}\"\n      description: \"{{ descripcion_sg }}\"\n      rules:\n      - proto: tcp\n        from_port: 22\n        to_port: 22\n        cidr_ip: 0.0.0.0/0\n      - proto: tcp\n        from_port: 2049\n        to_port: 2049\n        cidr_ip: 0.0.0.0/0\n    register: sg\n  - name: Creamos la instancia\n    ec2_instance:\n      name: \"{{ nombre_instancia }}\"\n      key_name: \"{{ key }}\"\n      security_group: \"{{ nombre_sg }}\"\n      instance_type: \"{{ tipo_instancia }}\"\n      image_id: \"{{ id_ami }}\"\n      state: running\n    register: inst\n</code></pre>"},{"location":"practica9/#mainyml","title":"main.yml","text":"<pre><code>---\n  - import_playbook: ./playbook/backend.yml\n  - import_playbook: ./playbook/frontend1.yml\n  - import_playbook: ./playbook/frontend2.yml\n  - import_playbook: ./playbook/balanceador.yml\n  - import_playbook: ./playbook/nfs.yml\n</code></pre>"}]}