{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Inicio Bienvenido Soy Aar\u00f3n Garc\u00eda, est\u00e1s en mi blog, puedes acceder al contenido que tienes aqu\u00ed abajo Blog Arquitectura de la practica 7 Arquitectura de la practica 9","title":"Inicio"},{"location":"#inicio","text":"","title":"Inicio"},{"location":"#bienvenido","text":"Soy Aar\u00f3n Garc\u00eda, est\u00e1s en mi blog, puedes acceder al contenido que tienes aqu\u00ed abajo","title":"Bienvenido"},{"location":"#blog","text":"Arquitectura de la practica 7 Arquitectura de la practica 9","title":"Blog"},{"location":"about/","text":"Acerca de mi Aar\u00f3n Garc\u00eda Crisol Esta es una practica para el m\u00f3dulo de IAW, en esta practica debemos de realizar una p\u00e1gina est\u00e1tica con MkDocs","title":"Acerca de mi"},{"location":"about/#acerca-de-mi","text":"","title":"Acerca de mi"},{"location":"about/#aaron-garcia-crisol","text":"Esta es una practica para el m\u00f3dulo de IAW, en esta practica debemos de realizar una p\u00e1gina est\u00e1tica con MkDocs","title":"Aar\u00f3n Garc\u00eda Crisol"},{"location":"practica7/","text":"iaw-practica 13.4 (Aar\u00f3n Garc\u00eda Crisol) Ansible En esta practica debemos de desplegar mediante Ansible las infraestructuras de la practica 7 y la practica 9. Infraestructura de la practica 7 Para ello crearemos un archivo main.yml, el cual ir\u00e1 lanzando los playbooks que tendremos alojados en nuestra carpeta playbook, el contenido tanto de los playbooks como del main.yml es el siguiente: playbook/backend.yml --- - name: Playbook para crear grupo de seguridad e instancia para Backend hosts: localhost connection: local gather_facts: false vars: nombre_sg: backend-sg descripcion_sg: grupo de seguridad para Backend nombre_instancia: Backend id_ami: ami-06878d265978313ca tipo_instancia: t2.small key: vockey tasks: - name: Creamos el grupo de seguridad ec2_group: name: \"{{ nombre_sg }}\" description: \"{{ descripcion_sg }}\" rules: - proto: tcp from_port: 22 to_port: 22 cidr_ip: 0.0.0.0/0 - proto: tcp from_port: 3306 to_port: 3306 cidr_ip: 0.0.0.0/0 - name: Creamos la instancia ec2_instance: name: \"{{ nombre_instancia }}\" key_name: \"{{ key }}\" security_group: \"{{ nombre_sg }}\" instance_type: \"{{ tipo_instancia }}\" image_id: \"{{ id_ami }}\" state: running register: inst playbook/frontend.yml --- - name: Playbook para crear grupo de seguridad e instancia para Frontend hosts: localhost connection: local gather_facts: false vars: nombre_sg: frontend-sg descripcion_sg: grupo de seguridad para Frontend nombre_instancia: Frontend id_ami: ami-06878d265978313ca tipo_instancia: t2.small key: vockey tasks: - name: Creamos el grupo de seguridad ec2_group: name: \"{{ nombre_sg }}\" description: \"{{ descripcion_sg }}\" rules: - proto: tcp from_port: 22 to_port: 22 cidr_ip: 0.0.0.0/0 - proto: tcp from_port: 80 to_port: 80 cidr_ip: 0.0.0.0/0 - proto: tcp from_port: 443 to_port: 443 cidr_ip: 0.0.0.0/0 register: sg - name: Creamos la instancia ec2_instance: name: \"{{ nombre_instancia }}\" key_name: \"{{ key }}\" security_group: \"{{ nombre_sg }}\" instance_type: \"{{ tipo_instancia }}\" image_id: \"{{ id_ami }}\" state: running register: inst - name: Mostramos el contenido de la variable inst debug: msg: \"inst: {{ inst }}\" - name: Creamos una IP el\u00e1stica y la asociar a la instancia ec2_eip: device_id: \"{{ inst.instances[0].instance_id }}\" register: ip_elas - name: Mostramos cual es nuestra IP elastica debug: msg: \"Nuestra IP el\u00e1stica es: {{ ip_elas.public_ip }}\" main.yml --- - import_playbook: ./playbook/backend.yml - import_playbook: ./playbook/frontend.yml","title":"**iaw-practica 13.4 (Aar\u00f3n Garc\u00eda Crisol)**"},{"location":"practica7/#iaw-practica-134-aaron-garcia-crisol","text":"","title":"iaw-practica 13.4 (Aar\u00f3n Garc\u00eda Crisol)"},{"location":"practica7/#ansible","text":"En esta practica debemos de desplegar mediante Ansible las infraestructuras de la practica 7 y la practica 9.","title":"Ansible"},{"location":"practica7/#infraestructura-de-la-practica-7","text":"Para ello crearemos un archivo main.yml, el cual ir\u00e1 lanzando los playbooks que tendremos alojados en nuestra carpeta playbook, el contenido tanto de los playbooks como del main.yml es el siguiente:","title":"Infraestructura de la practica 7"},{"location":"practica7/#playbookbackendyml","text":"--- - name: Playbook para crear grupo de seguridad e instancia para Backend hosts: localhost connection: local gather_facts: false vars: nombre_sg: backend-sg descripcion_sg: grupo de seguridad para Backend nombre_instancia: Backend id_ami: ami-06878d265978313ca tipo_instancia: t2.small key: vockey tasks: - name: Creamos el grupo de seguridad ec2_group: name: \"{{ nombre_sg }}\" description: \"{{ descripcion_sg }}\" rules: - proto: tcp from_port: 22 to_port: 22 cidr_ip: 0.0.0.0/0 - proto: tcp from_port: 3306 to_port: 3306 cidr_ip: 0.0.0.0/0 - name: Creamos la instancia ec2_instance: name: \"{{ nombre_instancia }}\" key_name: \"{{ key }}\" security_group: \"{{ nombre_sg }}\" instance_type: \"{{ tipo_instancia }}\" image_id: \"{{ id_ami }}\" state: running register: inst","title":"playbook/backend.yml"},{"location":"practica7/#playbookfrontendyml","text":"--- - name: Playbook para crear grupo de seguridad e instancia para Frontend hosts: localhost connection: local gather_facts: false vars: nombre_sg: frontend-sg descripcion_sg: grupo de seguridad para Frontend nombre_instancia: Frontend id_ami: ami-06878d265978313ca tipo_instancia: t2.small key: vockey tasks: - name: Creamos el grupo de seguridad ec2_group: name: \"{{ nombre_sg }}\" description: \"{{ descripcion_sg }}\" rules: - proto: tcp from_port: 22 to_port: 22 cidr_ip: 0.0.0.0/0 - proto: tcp from_port: 80 to_port: 80 cidr_ip: 0.0.0.0/0 - proto: tcp from_port: 443 to_port: 443 cidr_ip: 0.0.0.0/0 register: sg - name: Creamos la instancia ec2_instance: name: \"{{ nombre_instancia }}\" key_name: \"{{ key }}\" security_group: \"{{ nombre_sg }}\" instance_type: \"{{ tipo_instancia }}\" image_id: \"{{ id_ami }}\" state: running register: inst - name: Mostramos el contenido de la variable inst debug: msg: \"inst: {{ inst }}\" - name: Creamos una IP el\u00e1stica y la asociar a la instancia ec2_eip: device_id: \"{{ inst.instances[0].instance_id }}\" register: ip_elas - name: Mostramos cual es nuestra IP elastica debug: msg: \"Nuestra IP el\u00e1stica es: {{ ip_elas.public_ip }}\"","title":"playbook/frontend.yml"},{"location":"practica7/#mainyml","text":"--- - import_playbook: ./playbook/backend.yml - import_playbook: ./playbook/frontend.yml","title":"main.yml"}]}